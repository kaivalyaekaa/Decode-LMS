# DECODE LMS - Developer Guide

## Overview
The DECODE LMS is a MERN stack application designed to manage student registrations, payments, and certification for the DECODE program. It features role-based access control for different stakeholders.

## Technology Stack
- **Frontend**: React (Vite), Tailwind CSS
- **Backend**: Node.js, Express.js
- **Database**: MongoDB (Mongoose)
- **Authentication**: JWT (JSON Web Tokens)
- **Other Tools**: ExcelJS (Export), PDFKit (Certificates)

## Project Structure
```
ekaaregistrationportal-mern/
├── client/                 # React Frontend
│   ├── src/
│   │   ├── components/     # UI Components & Pages
│   │   ├── services/       # API Service (Axios)
│   │   └── App.jsx         # Main App Component & Routing
│   └── vite.config.js      # Vite Configuration
├── server/                 # Node.js Backend
│   ├── controllers/        # Business Logic
│   ├── models/             # Mongoose Schemas
│   ├── routes/             # API Routes
│   ├── middleware/         # Auth & Error Handling
│   └── server.js           # Entry Point
└── README.md               # This File
```

## Setup & Installation

1.  **Prerequisites**: Node.js, MongoDB.
2.  **Install Dependencies**:
    ```bash
    # Backend
    cd server
    npm install

    # Frontend
    cd ../client
    npm install
    ```
3.  **Environment Variables**:
    Create `.env` in `server/`:
    ```env
    MONGO_URI=mongodb://localhost:27017/decode_lms
    JWT_SECRET=your_jwt_secret
    PORT=5000
    SERVER_URL=http://localhost:5000
    CLIENT_URL=http://localhost:3000
    EMAIL_USER=your_email@gmail.com
    EMAIL_PASS=your_app_password
    ```
4.  **Run Application**:
    ```bash
    # Backend (Terminal 1)
    cd server
    node server.js

    # Frontend (Terminal 2)
    cd client
    npm run dev
    ```

## User Roles & Credentials (Default)

| Role | Username | Password | Access |
|------|----------|----------|--------|
| **Registration Admin** | `regadmin` | `password123` | Manage users, view all registrations. |
| **Instructor** | `instructor` | `password123` | Register students, view assigned students. |
| **Finance** | `finance` | `password123` | Approve payments, view financial stats. |
| **Management** | `management` | `password123` | Issue certificates, manage templates, view overall stats. |

## Core Workflows

### 1. Student Registration
- **Public**: Students register via the public form (`/`).
- **Instructor**: Instructors can register students via their dashboard.
- **Data**: Saved to `Registration` collection with `paymentStatus: 'Pending'`.

### 2. Payment Approval (Finance)
- Finance team logs in.
- Views "Pending Approvals".
- Updates status to `Paid` (Mode: Online/Offline).
- **Action**: `PUT /api/finance/registration/:id/payment`.

### 3. Certification (Management)
- Management team logs in.
- Views "Pending Approvals" (Paid but not Issued).
- Selects a student and issues certificate.
- **Process**:
    1.  Checks if `paymentStatus` is 'Paid'.
    2.  Generates PDF Certificate.
    3.  Generates Digital Signature.
    4.  Saves to `Certificate` collection.
    5.  Updates `Registration` status to `Issued`.

## API Endpoints (Key)

- **Auth**: `/api/auth/login`
- **Registration Admin**: `/api/registration-admin/registrations`, `/api/registration-admin/users`
- **Instructor**: `/api/instructor/register-student`, `/api/instructor/my-students`
- **Finance**: `/api/finance/registrations/pending`, `/api/finance/registration/:id/payment`
- **Management**: `/api/management/certificate/approve`, `/api/management/templates`

## Troubleshooting

- **Blank Page**: Check `client/src/services/api.js` for correct imports and route names.
- **500 Errors**: Check backend console logs. Ensure MongoDB is running.
- **CORS Issues**: Ensure `server/server.js` has `cors()` enabled and frontend proxy is configured in `vite.config.js`.

---
*Generated by Antigravity*
